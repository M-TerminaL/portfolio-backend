{% extends 'shared/layout.html' %}
{% load thumbnail %}

{% block title %}
    {{ profile.full_name }}
{% endblock %}

{% block content %}
    <div id="pagepiling">
        <section class="section pp-scrollable" id="home">
            <div id="tsparticles">
                <main class="main-left d-none d-lg-block">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12 col-lg-6">
                                <div class="short-intro">
                                    <h1 id="myName"></h1>
                                    <h3>
                                        {{ profile.bio_one }}
                                    </h3>
                                    <h3>
                                        {{ profile.bio_two }}
                                    </h3>
                                    <a href="{{ profile.resume.url }}">
                                        دریافت رزومه
                                    </a>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <div class="main-profile-img-box">
                                    {% thumbnail profile.img_profile "600x600" crop="center" quality=100 as im %}
                                        <img src="{{ im.url }}"
                                             alt="علیرضا بابایی">
                                    {% endthumbnail %}
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
                <main class="main-left d-lg-none">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12 col-lg-6 mt-5">
                                <div class="main-profile-img-box mt-5 pt-5">
                                    {% thumbnail profile.img_profile "600x600" crop="center" quality=100 as im %}
                                        <img src="{{ im.url }}"
                                             alt="علیرضا بابایی">
                                    {% endthumbnail %}
                                </div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <div class="short-intro">
                                    <h1 id="myName1"></h1>
                                    <h3>
                                        {{ profile.bio_one }}
                                    </h3>
                                    <h3>
                                        {{ profile.bio_two }}
                                    </h3>
                                    <a href="{{ profile.resume.url }}" class="mb-5">
                                        دریافت رزومه
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>


        <section class="section pp-scrollable" id="about">
            <div class="main-left">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="title">
                                <h3>درباره من</h3>
                                <h3>{{ profile.full_name }}</h3>
                                <p class="mb-5 pe-5 ms-0">
                                    {{ about_me.about_des }}
                                </p>
                                <a href="#contactus" class="btn-style">ارتباط با من</a>
                                <a href="#work" class="btn-style">نمونه کارها</a>
                            </div>


                            <div class="container">
                                <div class="row sep">
                                    <div class="separated"></div>
                                </div>
                            </div>


                            <div class="title">
                                <h3>
                                    مهارت های من
                                </h3>

                                <div class="container ps-0">
                                    <div class="row">

                                        {% for skill in skills %}
                                            <div class="col-12 col-md-6 mb-4">
                                                <div class="skill">
                                                    <h6>
                                                        {{ skill.title }}
                                                    </h6>

                                                    <div class="progress" role="progressbar"
                                                         aria-label="Success example"
                                                         aria-valuenow="{{ skill.skill_percentage }}" aria-valuemin="0"
                                                         aria-valuemax="100">
                                                        <div class="progress-bar progress-bar-striped progress-bar-animated"
                                                             style="width: {{ skill.skill_percentage }}%">{{ skill.skill_percentage }}%
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}

                                        <div class="col-12 mt-5">
                                            <h3>
                                                تحصیلات من
                                            </h3>

                                            <div id="edu-box">
                                                <div>
                                                    <span>سال {{ about_me.year_of_graduation }}</span>
                                                    <h6>{{ about_me.field_of_study }}</h6>
                                                    <p>{{ about_me.degree }}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="section pp-scrollable" id="work">
            <div class="main-left">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="title fix-pos ps-0">
                                <h3>
                                    نمونه کارهای من
                                </h3>
                            </div>
                        </div>

                        <div class="col-12 mt-3 mb-5 mt-xl-5">
                            <div class="title fix-pos ps-0">
                                <h4 class="text-success">
                                    وب اپلیکیشن ها
                                </h4>
                            </div>
                        </div>

                        {% for web_app in web_apps %}
                            <div class="col-12 col-md-6 col-xl-4 mb-4">
                                <a href="{{ web_app.address }}">
                                    <div class="work-box position-relative">

                                        {% thumbnail web_app.image "1200x1200" crop="center" quality=100 as im %}
                                            <img src="{{ im.url }}"
                                                 alt="{{ web_app.title }}">
                                        {% endthumbnail %}

                                        <div class="des-overlay">
                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <h5>
                                                            {{ web_app.title }}
                                                        </h5>
                                                    </div>
                                                    <div class="col-12">
                                                        <h6>
                                                            FrontEnd : {{ web_app.front_end }}
                                                        </h6>
                                                        <h6>
                                                            BackEnd : {{ web_app.back_end }}
                                                        </h6>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <div class="container">
                    <div class="row sep sep-fix">
                        <div class="separated"></div>
                    </div>
                </div>

                <div class="container">
                    <div class="row">
                        <div class="col-12 mt-3 mb-5 mt-xl-5">
                            <div class="title fix-pos ps-0">
                                <h4 class="text-success">
                                    نرم افزار ها
                                </h4>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        {% for app in apps %}
                            <div class="col-12 col-md-6 mb-5">
                                <div class="video-wrapper">
                                    <div class="video-aparat">
                                        <iframe src="{{ app.video_link }}"
                                                allowFullScreen="true" webkitallowfullscreen="true"
                                                mozallowfullscreen="true">
                                        </iframe>
                                    </div>
                                </div>
                                <div class="des-video">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-6">
                                                <h6>
                                                    {{ app.title }}
                                                </h6>
                                            </div>
                                            <div class="col-6 text-left">
                                                <h6>
                                                    {{ app.program_language }}
                                                </h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>


        <section class="section pp-scrollable" id="certificates">
            <div class="main-left">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="title fix-pos ps-0">
                                <h3>
                                    مدارک من
                                </h3>
                            </div>
                        </div>
                        {% for certificate in certificates %}
                            <div class="col-12 col-md-6 col-xl-4 mb-4">
                                <div class="certificate-box position-relative">

                                    {% thumbnail certificate.image "456x256" crop="center" quality=100 as im %}
                                        <img src="{{ im.url }}"
                                             alt="{{ certificate.title }}">
                                    {% endthumbnail %}

                                    <div class="certificate-icon-box position-absolute bottom-0 end-0 pe-3 pb-3">
                                        <a href="{{ certificate.image.url }}" class="image-popup">
                                            <i class="bi bi-search text-white"></i>
                                        </a>
                                    </div>
                                    <div class="des-certificate position-absolute top-0">
                                        <h6>
                                            {{ certificate.title }}
                                        </h6>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>


        <section class="section pp-scrollable" id="contactus">
            <div class="main-left">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="title fix-pos">
                                <h3>
                                    ارتباط با من
                                </h3>
                            </div>

                            <div class="info mb-5">
                                <h4>
                                    {{ contact_info.title }}
                                </h4>

                                <p>
                                    {{ contact_info.short_des_one }}
                                    <br>
                                    {{ contact_info.short_des_two }}
                                </p>

                                <div class="more-info">
                                    <i class="bi bi-map"></i>
                                    <span>{{ contact_info.location }}</span>
                                </div>
                                <div class="more-info">
                                    <i class="bi bi-envelope-at"></i>
                                    <span>{{ contact_info.email }}</span>
                                </div>
                                <div class="more-info">
                                    <i class="bi bi-telephone"></i>
                                    <span>{{ contact_info.phone }}</span>
                                </div>

                            </div>


                            <div class="info mb-5">
                                <h4>
                                    پیام خود را برای من ارسال کنید
                                </h4>

                                <form action="" method="post" id="form" class="container-fluid">
                                    {% csrf_token %}
                                    <div class="row">
                                        <div class="col-md-6">

                                            {{ contact_form.full_name }}
                                        </div>
                                        <div class="col-md-6">

                                            {{ contact_form.email }}
                                        </div>

                                        <div class="col-12">

                                            {{ contact_form.subject }}
                                        </div>

                                        <div class="col-12">

                                            {{ contact_form.text }}
                                        </div>
                                    </div>

                                    <button type="submit" class="btn-form">
                                        ارسال
                                    </button>

                                </form>

                                <div class="container-fluid mt-3">
                                    <div class="row">
                                        <div class="col-12">
                                            {% if contact_form.errors %}

                                                <div class="alert alert-danger alert-dismissible fade show"
                                                     role="alert">
                                                    <span>{{ contact_form.full_name.errors }}</span>
                                                    <span>{{ contact_form.email.errors }}</span>
                                                    <span>{{ contact_form.subject.errors }}</span>
                                                    <span>{{ contact_form.text.errors }}</span>
                                                    <button type="button" class="btn-close" data-bs-dismiss="alert"
                                                            aria-label="Close"></button>
                                                </div>

                                            {% endif %}

                                            {% if contact_form.is_valid %}
                                                <div class="alert alert-success alert-dismissible fade show"
                                                     role="alert">
                                                    <span>{{ success }}</span>
                                                    <button type="button" class="btn-close" data-bs-dismiss="alert"
                                                            aria-label="Close"></button>
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>
{% endblock %}


{% block footer_references %}
    <script>
        /* Start Auto Write */

        let string = "{{ profile.full_name }}";
        let str = document.getElementById("myName");
        let split = string.split("");

        (function anim() {
            let running = setTimeout(anim, 150);
            split.length > 0 ? str.innerHTML += split.shift() : clearTimeout(running);
        })();

        let string1 = "{{ profile.full_name }}";
        let str1 = document.getElementById("myName1");
        let split1 = string1.split("");

        (function anim1() {
            let running1 = setTimeout(anim1, 150);
            split1.length > 0 ? str1.innerHTML += split1.shift() : clearTimeout(running1);
        })();

        /* End Auto Write */
    </script>

    <script>
        /* Start Magnific Popup JQuery */

        $(document).ready(function () {
            $('.image-popup').magnificPopup({
                type: 'image',
                removalDelay: 300,
                mainClass: 'mfp-fade',
                gallery: {
                    enabled: true
                }
            });
        });

        /* End Magnific Popup JQuery */
    </script>

{% endblock %}